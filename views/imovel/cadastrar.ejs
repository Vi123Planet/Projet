<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastramento de Imóvel :)</title>

    <%- include("../partials/cabecalho.ejs")%>
    
    <link rel="stylesheet" href="/css/wal.css">
</head>
<body class="wal">
    <div class="container">
    <form action="/imoveis" method="post">
            <input type="hidden" name="_id" value="<%= imovel._id %>">

      <label for="id" >Qual seu id?</label>
      <div class="input-group mb-3" >
          <input <% if(imovel.id != undefined){%> readonly <% } %> type="id" required class="form-control" placeholder="Sua identificação numeral" aria-label="Username"
          name="id" id="id" value="<%= imovel.id %>">
        </div>

        <label for="localizaçao">Qual a localização DETALHADA do imóvel?</label>
        <div class="input-group mb-3">
            <input required type="text" class="form-control" placeholder="Todos os DETALHES da localidade" 
            name="localizaçao" id="localizaçao">
        </div>

        <label for="proprietario">Qual o proprietário do imóvel?</label>       
        <div class="input-group mb-3">
            <input required type="text" class="form-control" placeholder="Nome do dono do imóvel?"
            name="proprietario" id="proprietario">
          </div>

          <label for="valor">Qual o valor do imóvel?</label>       
          <div class="input-group mb-3">
              <input type="number" class="form-control" placeholder="Valor em reais(R$) do imóvel?" aria-label="Username"
              name="valor" id="valor">
            </div>
<!-- Imagem -->
          <div>
              <label for="img-input">Qual o valor do imóvel?</label>
              <input id="img-input" type="file" name="imagem">
          </div>
          <!-- Mostrar imagem -->
          <div id="img-container">
              <img id="preview" src="">
          </div>


          <div>
            <input class="btn btn-primary" type="submit" value="Cadastre Clicando Aqui">
          </div>
    </form>
    
    <div>        
    <a href="/" class="btn btn-info">Volte para a página inicial</a>
    </div>

</div>
</body>
<%-include("../partials/rodape.ejs")%>
<script>
  function readImage() {
    if (this.files && this.files[0]) {
        let file = new FileReader();
        file.onload = function(e) {
            document.getElementById("preview").src = e.target.result;
        };       
        file.readAsDataURL(this.files[0]);
    }
}

document.getElementById("img-input").addEventListener("change", readImage, false);
</script>
</html>